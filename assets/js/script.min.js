"use strict";function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,c=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function getVideoThumb(){var e=document.querySelector("section.videos");e&&e.querySelectorAll(".videos-card").forEach((function(e){var t=e.href,r=e.querySelector(".img");if(-1!=t.indexOf("https://www.youtube.com/watch?v=")||-1!=t.indexOf("https://youtube.com/watch?v=")){var o=t.split("watch?v=")[1].substring(0,11),n="https://img.youtube.com/vi/".concat(o,"/hqdefault.jpg");r.src=n}else if(-1!=t.indexOf("https://www.youtu.be/")||-1!=t.indexOf("https://youtu.be/")){var c=t.split("be/")[1].substring(0,11),l="https://img.youtube.com/vi/".concat(c,"/hqdefault.jpg");r.src=l}else r=""}))}function accordion(){document.querySelectorAll(".accordion-header").forEach((function(e){e.addEventListener("click",(function(){var t=e.nextElementSibling;e.classList.toggle("active"),e.classList.contains("active")?t.style.maxHeight="".concat(t.scrollHeight,"px"):t.style.maxHeight="0px"}))}))}function openHeaderMenu(){document.querySelector(".header");var e=document.querySelector(".burger-menu"),t=document.querySelector(".menu.desktop-hidden");window.innerWidth<980&&(e.addEventListener("click",(function(){t.classList.toggle("open-menu"),e.classList.toggle("active-toggle"),"hidden"!=document.body.style.overflowY?document.body.style.overflowY="hidden":document.body.style.overflowY="scroll"})),window.addEventListener("click",(function(r){t.contains(r.target)||e.contains(r.target)||(t.classList.remove("open-menu"),e.classList.remove("active-toggle"),document.body.style.overflowY="scroll")})))}function hasAdminBar(){document.addEventListener("DOMContentLoaded",(function(e){document.querySelector("#wpadminbar")&&(document.querySelector(".header").style.top="32px",document.querySelector(".sidebar-filters")&&(document.querySelector(".sidebar-filters").style.top="32px"))}))}function fixedHeader(){var e=document.querySelector(".header"),t=window.scrollY;document.addEventListener("scroll",(function(r){window.scrollY<t?e.style.transform="translateY(0)":window.scrollY>=e.offsetHeight&&(e.style.transform="translateY(-100%)"),t=window.scrollY}))}function toggleActive(e){e.classList.toggle("active")}function searchField(){var e=document.querySelector(".search");if(e){var t=e.querySelector("#order-search"),r=e.querySelector(".clear"),o=e.querySelector(".lens");for(t.addEventListener("focus",(function(){r.style.display="block",o.style.display="none"}));t.value;)r.addEventListener("click",(function(){console.log("hehe"),t.value=""}));t.addEventListener("focusout",(function(){r.style.display="none",o.style.display="block"}))}}function showSidebarFilters(e){e.classList.add("active"),document.querySelector(".overlay").style.display="block",document.querySelector(".sidebar-filters").classList.add("active"),"hidden"!=document.body.style.overflowY?document.body.style.overflowY="hidden":document.body.style.overflowY="scroll";var t="";document.querySelectorAll(".filters .categories .category-button").forEach((function(e){e.classList.contains("active-category")?t=e.dataset.link:(document.querySelector(".sidebar-filters .subcategories-alert").style.display="block",document.querySelector(".sidebar-filters .subcategories-alert").innerHTML="Выберите категорию, чтобы увидеть подкатегории")})),document.querySelectorAll(".sidebar-filters .subcategories .filter-list").forEach((function(e){e.dataset.category==t?(e.style.display="flex",e.querySelector("li")?document.querySelector(".sidebar-filters .subcategories-alert").style.display="none":(document.querySelector(".sidebar-filters .subcategories-alert").style.display="block",document.querySelector(".sidebar-filters .subcategories-alert").innerHTML="У данной категории нет подкатегорий")):e.style.display="none"}))}function closeSidebarFilters(e){0===subcatArray.length&&""===metaValue&&document.querySelector("#ad-filters").classList.remove("active"),document.querySelector(".overlay").style.display="none",document.querySelector(".sidebar-filters").classList.remove("active"),document.body.style.overflowY="scroll"}function showMore(e){var t=e.parentNode,r=e.dataset.card;t.querySelectorAll("."+r).forEach((function(e,t){2!=t&&3!=t||(e.style.display="flex",e.style.opacity="1")})),e.style.display="none"}function parseHoursField(){document.querySelectorAll(".hours-field").forEach((function(e){var t=e.innerHTML.slice(-1);console.log(t),e.innerHTML="0"==t||"5"==t||"6"==t||"7"==t||"8"==t||"9"==t?e.innerHTML+" часов":"2"==t||"3"==t||"4"==t?e.innerHTML+" часа":e.innerHTML+" час"}))}function crmLoading(){var e=document.querySelector(".crm-loader"),t=document.querySelector(".b24-form");if(e)if(t)e.style.display="none";else{e.style.display="block";var r=e.parentElement;new MutationObserver((function(t,r){var o,n=_createForOfIteratorHelper(t);try{for(n.s();!(o=n.n()).done;){o.value;e.style.display="none",r.disconnect()}}catch(e){n.e(e)}finally{n.f()}})).observe(r,{attributes:!0,childList:!0,subtree:!0})}}function tabs(){var e=document.querySelector(".tabs");e&&(e.querySelectorAll(".tabs-content.years>.tabs-content__item")[0].classList.add("active"),e.querySelector(".tabs-nav__item").classList.add("active"),e.querySelectorAll(".tabs-nav").forEach((function(e){var t=e.nextElementSibling.querySelectorAll(".tabs-content__item"),r=e.querySelectorAll(".tabs-nav__item");r.forEach((function(e){e.addEventListener("click",(function(){r.forEach((function(e){e.classList.remove("active")})),e.classList.add("active"),t.forEach((function(r){r.dataset.tab==e.id&&(t.forEach((function(e){e.classList.remove("active")})),r.classList.add("active"))}))}))}))})))}getVideoThumb(),accordion(),hasAdminBar(),fixedHeader(),openHeaderMenu(),searchField(),crmLoading(),tabs();